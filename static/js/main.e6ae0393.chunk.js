(this["webpackJsonpstake-ui"]=this["webpackJsonpstake-ui"]||[]).push([[0],{147:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(2),c=n.n(r),a=n(27),o=n(7),i=n(14),s=n(21),l=n(76),u=new s.d("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),d="94qJGagpfsdWbPZewFj7CzzsFkjJfFJ56z8xE64X9DXL",b=new s.d("4yvBtnpRJJGhspF3jj9bNtTo6tciJwoNjy1d7czVfguf"),p=function t(){var n=this;Object(i.a)(this,t),this.connection=void 0,this.programPublicKey=void 0,this.ourPublicKey=void 0,this.statePublicKey=void 0,this.encoder=void 0,this.ensureStateAccountPublicKey=Object(o.a)(c.a.mark((function t(){var r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.statePublicKey){t.next=9;break}return t.next=3,s.d.findProgramAddress([e.from(n.encoder.encode("egg-app-state-2"))],n.programPublicKey);case 3:if(r=t.sent,o=Object(a.a)(r,2),n.statePublicKey=o[0],o[1],n.statePublicKey){t.next=9;break}throw new Error;case 9:case"end":return t.stop()}}),t)}))),this.initApp=function(){var t=Object(o.a)(c.a.mark((function t(r){var a,o,i,l,u,d,b;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.ensureStateAccountPublicKey();case 2:return console.debug("State account address is ".concat(n.statePublicKey.toBase58())),a=new s.i({keys:[{pubkey:s.g.programId,isSigner:!1,isWritable:!1},{pubkey:n.statePublicKey,isSigner:!1,isWritable:!0},{pubkey:s.e,isSigner:!1,isWritable:!1},{pubkey:n.programPublicKey,isSigner:!1,isWritable:!1}],programId:n.programPublicKey,data:e.from(Uint8Array.of(0))}),o=(new s.h).add(a),t.next=7,n.connection.getRecentBlockhash();case 7:return i=t.sent,l=i.blockhash,o.recentBlockhash=l,o.feePayer=r.publicKey,t.next=13,r.signTransaction(o);case 13:return u=t.sent,t.next=16,n.connection.sendRawTransaction(u.serialize());case 16:return d=t.sent,console.log("TXID",d),t.next=20,n.connection.confirmTransaction(d);case 20:b=t.sent,console.log("Signature",b);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.transferToStakeAccount=function(){var t=Object(o.a)(c.a.mark((function t(r){var o,i,p,f,j,h,x,O,y,m,v,k,w,E,S;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.ensureStateAccountPublicKey();case 2:return(o=e.from(Uint8Array.of(0)))[0]=1,i=new s.a,p=new s.a,t.next=8,g(r.publicKey,p.publicKey);case 8:return f=t.sent,t.next=11,s.d.findProgramAddress([e.from(n.encoder.encode("egg-app-mint-auth"))],new s.d(d));case 11:for(j=t.sent,h=Object(a.a)(j,2),x=h[0],h[1],O=new s.a,console.debug("MINT AUTHORITY PK: ".concat(x.toBase58())),y=[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:s.g.programId,isSigner:!1,isWritable:!1},{pubkey:n.statePublicKey,isSigner:!1,isWritable:!0},{pubkey:s.e,isSigner:!1,isWritable:!1},{pubkey:n.programPublicKey,isSigner:!1,isWritable:!1},{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:p.publicKey,isSigner:!0,isWritable:!0},{pubkey:l.a,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s.f,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:O.publicKey,isSigner:!0,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0}],console.debug("Egg account token ID: ".concat(p.publicKey.toBase58())),console.log("KEYS",y),m=0;m<y.length;m++)console.log("".concat(m,". ").concat(y[m].pubkey.toBase58()));return v=(new s.h).add(s.g.transfer({fromPubkey:r.publicKey,toPubkey:b,lamports:10*s.c})).add(new s.i({keys:y,programId:n.programPublicKey,data:o})),t.next=24,n.connection.getRecentBlockhash();case 24:return k=t.sent,w=k.blockhash,v.recentBlockhash=w,v.feePayer=r.publicKey,v.partialSign(O),v.partialSign(p),v.partialSign(i),t.next=33,r.signTransaction(v);case 33:return E=t.sent,t.next=36,n.connection.sendRawTransaction(E.serialize());case 36:return S=t.sent,t.next=39,n.connection.confirmTransaction(S);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.connection=new s.b("http://devnet.solana.com"),this.programPublicKey=new s.d(d),this.ourPublicKey=new s.d("4yvBtnpRJJGhspF3jj9bNtTo6tciJwoNjy1d7czVfguf"),this.encoder=new TextEncoder};function g(e,t){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.d.findProgramAddress([t.toBuffer(),l.a.toBuffer(),n.toBuffer()],u);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(38).Buffer)},169:function(e,t,n){},183:function(e,t){},184:function(e,t){},206:function(e,t){},207:function(e,t){},230:function(e,t){},236:function(e,t){},249:function(e,t){},251:function(e,t){},277:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(23),o=n.n(a),i=(n(169),n(2)),s=n.n(i),l=n(7),u=n(319),d=n(154),b=n(318),p=n(309),g=n(311),f=n(312),j=n(313),h=n(308),x=n(324),O=Object(h.a)((function(e){return Object(x.a)({root:{flexGrow:1},toolbar:{backgroundColor:"rgb(43, 43, 43)"},menuButton:{marginRight:e.spacing(2)},title:{display:"flex",flexGrow:1,paddingLeft:70,alignItems:"center"},logo:{height:"100%",transform:"translate(-20px, 0)"}})})),y=n(151),m=n(20),v=n(150),k=n.n(v),w=n(99),E=n(146),S=n(147),C=new w.HTTPTransport("http://devnet.solana.com"),P=new w.Client(new w.RequestManager([C])),K=(0,k.a)((function(e){return{chain:new S.a,accounts:[],setAccounts:function(t){return e((function(e){return Object(m.a)(Object(m.a)({},e),{},{accounts:t})}))},wallet:new E.a("https://www.sollet.io"),setWallet:function(t){return e((function(e){return Object(m.a)(Object(m.a)({},e),{},{wallet:t})}))},connected:!1,setConnected:function(t){return e((function(e){return Object(m.a)(Object(m.a)({},e),{},{connected:t})}))},client:P,setDialogVisible:function(t,n){return e((function(e){var r=Object(m.a)({},e.dialogs);return r[t]=n,Object(m.a)(Object(m.a)({},e),{},{dialogs:r})}))},dialogs:{createEgg:!1,redeemEgg:!1},selectedEggPublicKey:void 0,setSelectedEggPublicKey:function(t){return e((function(e){return Object(m.a)(Object(m.a)({},e),{},{selectedEggPublicKey:t})}))},initialized:!1,setInitialized:function(){return e((function(e){return Object(m.a)(Object(m.a)({},e),{},{initialized:!0})}))}}})),T=Object(y.a)(K),F=n.p+"static/media/logo.a1389bd0.png",I=n.p+"static/media/basket.72e301ce.png",N=n.p+"static/media/steak.3660ac9a.png",W=n(5),B=function(e){return e.wallet},A=function(e){return e.connected},M=function(){var e=O(),t=T(B),n=T(A),r=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("BEFORE",t.connected),console.log("BEFORE",t.publicKey),e.next=4,t.connect();case 4:console.log("AFTER",t.connected),console.log("AFTER",t.publicKey),console.log(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)("div",{className:e.root,children:Object(W.jsx)(p.a,{position:"static",children:Object(W.jsxs)(g.a,{className:e.toolbar,children:[Object(W.jsx)("div",{style:{position:"absolute",height:"100%"},children:Object(W.jsx)("img",{alt:"logo",src:F,className:e.logo})}),Object(W.jsxs)("div",{className:e.title,children:[Object(W.jsx)("div",{style:{flex:1},children:Object(W.jsx)(f.a,{variant:"h6",children:"Stake & Eggs"})}),Object(W.jsxs)("div",{style:{flex:1},children:[Object(W.jsxs)(j.a,{style:{marginRight:48},onClick:function(){},color:"inherit",children:[Object(W.jsx)("img",{src:I,alt:"eggs",style:{maxHeight:50}}),"Eggs"]}),Object(W.jsxs)(j.a,{onClick:function(){},color:"inherit",children:[Object(W.jsx)("img",{src:N,alt:"stake",style:{maxHeight:50}}),"Stake"]})]})]}),Object(W.jsx)(j.a,{onClick:r,color:"inherit",children:n?t.publicKey.toBase58():"Connect Wallet"})]})})})},R=n(18),L=n(279),D=n(95),z=n.n(D),H=n(74),J="rgb(0, 255, 163)",Y=Object(h.a)((function(e){return Object(x.a)({egg:{display:"inline-block",margin:e.spacing(3),backgroundImage:"url('/egg.png')",height:e.spacing(12),width:e.spacing(12),backgroundSize:"cover",backgroundPosition:"center",alignItems:"flex-end",color:"#FFF",position:"relative"},yolk:{display:"inline-block",margin:e.spacing(3),backgroundImage:"url('/egg.png')",height:e.spacing(12),width:e.spacing(12),backgroundSize:"cover",backgroundPosition:"center",alignItems:"flex-end",color:"#FFF",position:"relative","&:hover":{backgroundImage:"url('/yolk.png')",cursor:"pointer"}},eggDetails:{bottom:0,position:"absolute",transform:"translate(0px ,64px)",marginBottom:8},selected:{backgroundColor:"rgba(0, 255, 163, 0.2)"},large:{height:"30vh",width:"30vh"}})})),q=n(13),G=function(e){return e.setSelectedEggPublicKey},V=function(e){return e.selectedEggPublicKey},X=function(e){var t=e.epoch,n=e.showYolkOnHover,r=e.publicKey,c=e.large,a=e.yolk,o=e.grail,i=Y(),s=T(V),l=T(G);return Object(W.jsx)("div",{className:Object(q.a)(n?i.yolk:i.egg,Object(H.a)({},i.selected,s&&s===r),Object(H.a)({},i.large,c)),onClick:function(){r&&l(s===r?void 0:r)},children:Object(W.jsxs)("div",{className:i.eggDetails,children:[t&&Object(W.jsxs)(f.a,{variant:"body2",children:["Epoch #",t]}),!!a&&Object(W.jsxs)(f.a,{variant:"body2",children:["Yolk: ",a," "]}),!!o&&Object(W.jsxs)(f.a,{variant:"body2",children:["Grail: ",o," "]})]})})};X.defaultProps={showYolkOnHover:!0,large:!1};var U=X,Z=n(27),Q=n(321),$=n(316),_=n(315),ee=n(314),te=c.a.forwardRef((function(e,t){return Object(W.jsx)(ee.a,Object(m.a)({direction:"up",ref:t},e))})),ne=function(e){return e.dialogs.redeemEgg},re=function(e){return e.setDialogVisible},ce=function(e){return e.accounts},ae=function(e){return e.client},oe=function(e){return e.selectedEggPublicKey},ie=function(){var e=Object(r.useState)({yolk:0,grail:0,epoch:0,rent:0}),t=Object(Z.a)(e,2),n=t[0],c=t[1],a=T(ne),o=T(re),i=T(ae),u=T(ce),d=T(oe);Object(r.useEffect)((function(){(function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.find((function(e){return e.pubkey===d})),n={jsonrpc:"2.0",id:1,method:"getMinimumBalanceForRentExemption",params:[16]},r={jsonrpc:"2.0",id:1,method:"getEpochInfo"},e.next=5,i.request(n);case 5:return a=e.sent,e.next=8,i.request(r);case 8:o=e.sent,c({yolk:null===t||void 0===t?void 0:t.account.data.yolk,grail:null===t||void 0===t?void 0:t.account.data.grail,rent:a,epoch:o.epoch+1});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u,i,d]);var b=function(){o("redeemEgg",!1)};return Object(W.jsx)("div",{children:Object(W.jsxs)(Q.a,{open:a,TransitionComponent:te,keepMounted:!0,onClose:b,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(W.jsx)(_.a,{children:Object(W.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(W.jsx)("div",{style:{flex:1,textAlign:"center"},children:Object(W.jsx)(U,{showYolkOnHover:!1,large:!0})}),Object(W.jsxs)("div",{style:{flex:1},children:[Object(W.jsx)(f.a,{variant:"h6",children:"You will receive"}),Object(W.jsxs)(f.a,{variant:"h3",children:[(n.grail+n.yolk).toFixed(2)," SOL"]}),Object(W.jsxs)(f.a,{variant:"body1",style:{marginTop:8},children:["At epoch ",n.epoch,". We will then transfer your yolk (",n.yolk,") and grail (",n.grail,") rewards"]}),Object(W.jsxs)(f.a,{variant:"body2",style:{marginTop:8},children:["Your egg will be made into omelettes (burnt) once the transaction is confirmed. ",Object(W.jsx)("br",{}),"Your rent of ",n.rent," lamports will be released"]})]})]})}),Object(W.jsxs)($.a,{children:[Object(W.jsx)(j.a,{onClick:b,color:"secondary",children:"Cancel"}),Object(W.jsx)(j.a,{onClick:function(){},style:{color:J},children:"REDEEM"})]})]})})},se=Object(h.a)((function(e){return Object(x.a)({paper:{maxWidth:"94%",marginLeft:"3%",padding:e.spacing(2),marginTop:e.spacing(4)},eggIcon:{maxHeight:120},chart:{"&  .domain":{fill:"none",strokeWidth:1,stroke:"#fff"},"& line":{stroke:"#FFF"},"& .tick, & text":{fill:"#fff",strokeWidth:1},"& .c3-tooltip th":{backgroundColor:"rgba(30,30,30,0.8)"}," & .c3-tooltip td":{backgroundColor:"rgba(30,30,30,0.7)"},"& .c3-tooltip tr":{border:"1px rgba(30,30,30,1) solid"}},buttonsPanel:{flex:.15,padding:"0px 16px",justifyContent:"space-evenly",alignItems:"center",display:"flex",flexDirection:"column"},redeemButton:{color:"#303030",backgroundColor:"rgb(0, 255, 163)","&:hover":{backgroundColor:"rgba(0, 255, 163,0.6)",color:"#303030",borderColor:"rgb(0, 255, 163)"}},listButton:{color:"rgb(0, 255, 163)",borderColor:"rgb(0, 255, 163)","&:hover":{backgroundColor:"rgba(0, 255, 163,0.1)",color:"rgb(0, 255, 163)",borderColor:"rgb(0, 255, 163)"}}})})),le=(n(145),function(e){return e.accounts}),ue=function(e){return e.selectedEggPublicKey},de=function(e){return e.setDialogVisible},be=function(e){return e.connected},pe=function(){var e=T(le),t=T(ue),n=T(de),r=T(be),c=function(){var t=e.map((function(e){return e.account.rentEpoch})),n=Math.max.apply(null,t),r=Math.min.apply(null,t);return Array.from({length:n-r},(function(e,t){return t+r})).reduce((function(e,t){return e[t.toString()]=0,e}),{})},a=se(),o=function(){var t=e.reduce((function(e,t){var n=t.account.rentEpoch.toString();return e[n]||(e[n]=0),e[n]+=t.account.data.grail+t.account.data.yolk,e}),c()),n=[];return Object.values(t).reduce((function(e,t,r){return n[r]=e+t}),0),{x:Array.from(new Set(Object.keys(t).map((function(e){return parseInt(e)})))),y:n}}(),i={x:"x",type:"bar",columns:[["x"].concat(Object(R.a)(o.x)),["SOL"].concat(Object(R.a)(o.y))],colors:{SOL:"rgb(0, 255, 163)"}},s={x:{label:"Epoch",values:c(),localTime:!1},y:{label:"SOL"}},l={format:{title:function(e){return"Epoch ".concat(e)},value:function(e){return parseFloat(e).toFixed(3)}}};return Object(W.jsxs)(L.a,{elevation:24,className:a.paper,children:[Object(W.jsx)(f.a,{color:"textSecondary",variant:"h5",children:"My Eggs"}),Object(W.jsxs)("div",{style:{display:"flex"},children:[Object(W.jsx)("div",{style:{flex:.5,maxHeight:"30vh",overflowX:"scroll"},children:e.map((function(e){return Object(W.jsx)(U,{epoch:e.account.rentEpoch,publicKey:e.pubkey,grail:e.account.data.grail,yolk:e.account.data.yolk},"egg-".concat(e.pubkey))}))}),Object(W.jsxs)("div",{className:a.buttonsPanel,children:[Object(W.jsx)(j.a,{className:a.redeemButton,fullWidth:!0,disabled:!t||!r,onClick:function(){n("redeemEgg",!0)},variant:"contained",color:"primary",children:"Redeem"}),Object(W.jsx)(j.a,{className:a.listButton,fullWidth:!0,onClick:function(){},variant:"outlined",color:"secondary",children:"List"})]}),Object(W.jsx)("div",{style:{flex:.6},children:Object(W.jsx)(z.a,{className:a.chart,data:i,axis:s,interaction:{enabled:!0},bar:{width:{ratio:.5}},tooltip:l})})]}),Object(W.jsx)(ie,{})]})},ge="rgb(194, 63, 218)",fe=Object(h.a)((function(e){return Object(x.a)({paper:{maxWidth:"94%",marginLeft:"3%",padding:e.spacing(2),marginTop:e.spacing(4)},text:{color:ge},button:{backgroundColor:ge,color:"#303030",width:"30%","&:hover":{backgroundColor:"rgba(194, 63, 218, 0.6)"}}})})),je=n(323),he=n(317),xe=n(153),Oe=n.n(xe),ye=Object(h.a)((function(e){return Object(x.a)({notification:{"& .MuiPaper-root":{backgroundColor:"".concat(J," !important")}}})})),me=function(e){var t=e.open,n=e.setOpen,r=ye(),a=function(e,t){"clickaway"!==t&&n(!1)};return Object(W.jsx)("div",{children:Object(W.jsx)(je.a,{className:r.notification,anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t,autoHideDuration:5e3,onClose:a,message:"Egg purchased successfully",action:Object(W.jsx)(c.a.Fragment,{children:Object(W.jsx)(he.a,{size:"small","aria-label":"close",color:"inherit",onClick:a,children:Object(W.jsx)(Oe.a,{fontSize:"small"})})})})})},ve=function(e){return e.setDialogVisible},ke=function(e){return e.dialogs.createEgg},we=function(e){return e.client},Ee=function(e){return e.chain},Se=function(e){return e.wallet},Ce=c.a.forwardRef((function(e,t){return Object(W.jsx)(ee.a,Object(m.a)({direction:"up",ref:t},e))})),Pe=function(){var e=Object(r.useState)(!1),t=Object(Z.a)(e,2),n=t[0],c=t[1],a=T(ke),o=T(ve),i=T(we),u=Object(r.useState)(0),d=Object(Z.a)(u,2),b=d[0],p=d[1],g=T(Ee),h=T(Se),x=function(){o("createEgg",!1)};Object(r.useEffect)((function(){(function(){var e=Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={jsonrpc:"2.0",id:1,method:"getMinimumBalanceForRentExemption",params:[16]},e.next=3,i.request(t);case 3:n=e.sent,p(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var O=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.transferToStakeAccount(h);case 2:o("createEgg",!1),c(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{children:[Object(W.jsxs)(Q.a,{open:a,TransitionComponent:Ce,keepMounted:!0,onClose:x,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(W.jsx)(_.a,{children:Object(W.jsxs)("div",{style:{display:"flex"},children:[Object(W.jsx)("div",{style:{flex:1},children:Object(W.jsx)(U,{})}),Object(W.jsxs)("div",{style:{flex:1},children:[Object(W.jsx)(f.a,{variant:"h6",children:"You will receive"}),Object(W.jsx)(f.a,{variant:"h6",children:"1 Egg Epoch"}),Object(W.jsxs)(f.a,{variant:"body2",children:["Your transaction will be 10 SOL for the egg and ",b," ","lamports for rent exemption"]})]})]})}),Object(W.jsxs)($.a,{children:[Object(W.jsx)(j.a,{onClick:x,color:"secondary",children:"Cancel"}),Object(W.jsx)(j.a,{onClick:O,style:{color:"rgba(194, 63, 218, 1)"},children:"Create"})]})]}),Object(W.jsx)(me,{open:n,setOpen:c})]})},Ke=function(e){return e.client},Te=function(e){return e.connected},Fe=function(e){return e.setDialogVisible},Ie=function(){var e=fe(),t=Object(r.useState)({epoch:0,slotIndex:0,slotsInEpoch:0}),n=Object(Z.a)(t,2),c=n[0],a=n[1],o=T(Ke),i=T(Fe),u=T(Te);Object(r.useEffect)((function(){var e=setInterval(Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={jsonrpc:"2.0",method:"getEpochInfo"},e.next=3,o.request(t);case 3:n=e.sent,a(n);case 5:case"end":return e.stop()}}),e)}))),5e3);return function(){return clearInterval(e)}}),[o]);return Object(W.jsxs)(L.a,{className:e.paper,elevation:24,children:[Object(W.jsx)(Pe,{}),Object(W.jsx)(f.a,{className:e.text,variant:"h5",children:"Create an Egg"}),Object(W.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(W.jsx)("div",{style:{flex:1},children:Object(W.jsx)(U,{showYolkOnHover:!1})}),Object(W.jsxs)("div",{style:{flex:1},children:[Object(W.jsx)(f.a,{className:e.text,variant:"h6",children:"Cost: 10.00 SOL"}),Object(W.jsxs)(f.a,{className:e.text,variant:"h6",children:["Current Epoch: ",c.epoch," "]}),Object(W.jsxs)(f.a,{className:e.text,variant:"h6",children:["Completion: ",c.slotIndex,"/",c.slotsInEpoch," Slots  (",Math.ceil(c.slotIndex/c.slotsInEpoch*1e5)/1e3,"%)"]})]}),Object(W.jsx)("div",{style:{flex:1,textAlign:"center"},children:Object(W.jsx)(j.a,{className:e.button,onClick:function(){i("createEgg",!0)},variant:"contained",disabled:!u,children:"Create"})})]})]})},Ne="rgb(3, 225, 255)",We=Object(h.a)((function(e){return Object(x.a)({paper:{padding:e.spacing(2),marginTop:e.spacing(4)},text:{color:Ne},chart:{"& .domain":{fill:"none",strokeWidth:1,stroke:"#fff"},"& line":{stroke:"#FFF"},"& .tick, & text":{fill:"#fff",strokeWidth:1},"& .c3-tooltip th":{backgroundColor:"rgba(30,30,30,0.8)"}," & .c3-tooltip td":{backgroundColor:"rgba(30,30,30,0.7)"},"& .c3-tooltip tr":{border:"1px rgba(30,30,30,1) solid"}}})})),Be={width:{ratio:.5}},Ae={enabled:!0},Me=function(e){return e.accounts},Re=function(){var e=T(Me),t=We(),n=function(){var t=e.reduce((function(e,t){var n=t.account.rentEpoch.toString();return e[n]||(e[n]=0),e[n]+=t.account.data.grail,e}),function(){var t=e.map((function(e){return e.account.rentEpoch})),n=Math.max.apply(null,t),r=Math.min.apply(null,t);return Array.from({length:n-r},(function(e,t){return t+r})).reduce((function(e,t){return e[t.toString()]=0,e}),{})}());return{x:Array.from(new Set(Object.keys(t).map((function(e){return parseInt(e)})))),y:Object.values(t)}}(),r={x:"x",type:"bar",columns:[["x"].concat(Object(R.a)(n.x)),["SOL"].concat(Object(R.a)(n.y))],colors:{SOL:Ne}},c={x:{label:"Epoch",values:n.x,localTime:!1},y:{label:"SOL"}},a={format:{title:function(e){return"Epoch ".concat(e)},value:function(e){return parseFloat(e).toFixed(3)}}};return console.log(r),Object(W.jsxs)(L.a,{elevation:24,className:t.paper,children:[Object(W.jsx)(f.a,{className:t.text,variant:"h5",children:"Rewards per Epoch"}),Object(W.jsx)(z.a,{data:r,className:t.chart,axis:c,interaction:Ae,bar:Be,tooltip:a})]})},Le=Object(h.a)((function(e){return Object(x.a)({button:{backgroundColor:"rgb(3, 225, 255)",color:"#303030","&:hover":{backgroundColor:"rgba(3, 225, 255, 0.6)"}}})})),De=function(e){var t=e.discount,n=e.epoch,r=Le();return Object(W.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(W.jsx)("div",{style:{flex:1},children:Object(W.jsx)(U,{showYolkOnHover:!1})}),Object(W.jsxs)("div",{style:{flex:1},children:[Object(W.jsxs)(f.a,{variant:"body2",color:"textPrimary",children:["Epoch: ",n]}),Object(W.jsx)(f.a,{variant:"body2",color:"textPrimary",children:0===t?"Market Price":t>0?"Premium: ".concat(Math.abs(t),"%"):"Discount: ".concat(Math.abs(t),"%")})]}),Object(W.jsx)("div",{style:{flex:1},children:Object(W.jsx)(j.a,{className:r.button,onClick:function(){},children:"Buy"})})]})},ze=Object(h.a)((function(e){return Object(x.a)({paper:{height:"92%",padding:e.spacing(2),marginTop:e.spacing(4)},text:{color:"rgb(3, 225, 255)"}})})),He=function(e){return e.accounts},Je=function(){var e=Object(r.useState)([]),t=Object(Z.a)(e,2),n=t[0],c=t[1],a=T(He),o=function(e,t){return Math.floor(Math.random()*(t+1))+e};Object(r.useEffect)((function(){for(var e=a.map((function(e){return e.account.rentEpoch})),t=Math.max.apply(null,e),n=[],r=0;r<10;r++){var i=Math.random()>.5?1:-1;n.push({epoch:o(1,t),discount:o(1*i,5*i)})}c(n)}),[a]);var i=ze();return Object(W.jsxs)(L.a,{elevation:24,className:i.paper,children:[Object(W.jsx)(f.a,{className:i.text,variant:"h5",children:"Egg Marketplace"}),Object(W.jsx)("div",{style:{flex:.5,maxHeight:"31vh",overflow:"scroll"},children:n.sort((function(e,t){return e.epoch-t.epoch})).map((function(e,t){return Object(W.jsx)(De,{discount:e.discount,epoch:e.epoch},t)}))})]})},Ye=n(76),qe=n(320),Ge=Object(d.a)({palette:{type:"dark",text:{secondary:"rgb(0, 255, 163) !important",hint:"rgb(194, 63, 218) !important"}}}),Ve=function(e){return e.chain},Xe=function(e){return e.setAccounts},Ue=function(e){return e.wallet},Ze=function(e){return e.setConnected},Qe=function(e){return e.client};var $e=function(){var e=T(Xe),t=T(Ze),n=T(Ue),c=T(Qe),a=(T(Ve),Object(r.useCallback)(Object(l.a)(s.a.mark((function t(){var n,r,a,o,i,l,u,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={jsonrpc:"2.0",id:1,method:"getTokenAccountsByOwner",params:["HGEyziUSPNXaHJADqVcTcJhwMTxLvwnJ8Qs2yXvs2C4h",{programId:Ye.a.toBase58()},{encoding:"jsonParsed"}]},t.next=3,c.request(n);case 3:for(r=t.sent,a=r.value.sort((function(e,t){return e.account.rentEpoch-t.account.rentEpoch})),o={},i=0,l=a.length-1;l>=0;l--)u=a[l].account.rentEpoch.toString(),Object.keys(o).includes(u)||(d=Math.ceil(1e3*Math.random())/100,i+=d,i=parseFloat(i.toFixed(2)),o[u]=i),a[l].account.data.grail=o[u],a[l].account.data.yolk=10;e(a);case 9:case"end":return t.stop()}}),t)}))),[e,c]));return Object(r.useEffect)((function(){return n.on("connect",function(){var e=Object(l.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Connected to ".concat(n)),t(!0),e.next=4,a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.on("disconnect",(function(){console.log("Disconnected"),t(!1)})),function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return n.disconnect()}}),[t,n,a]),Object(W.jsxs)(b.a,{theme:Ge,children:[Object(W.jsx)(u.a,{}),Object(W.jsx)(M,{}),Object(W.jsx)(pe,{}),Object(W.jsx)(Ie,{}),Object(W.jsxs)(qe.a,{container:!0,spacing:2,style:{width:"95%",marginLeft:"2.5%"},children:[Object(W.jsx)(qe.a,{item:!0,xs:12,md:6,children:Object(W.jsx)(Je,{})}),Object(W.jsx)(qe.a,{item:!0,xs:12,md:6,children:Object(W.jsx)(Re,{})})]})]})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,325)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)($e,{})}),document.getElementById("root")),_e()}},[[277,1,2]]]);
//# sourceMappingURL=main.e6ae0393.chunk.js.map